@page "/"
@using BlazorPDF.Data;
@inject Microsoft.AspNetCore.Hosting.IWebHostEnvironment hostingEnvironment
@inject Microsoft.JSInterop.IJSRuntime JS

<h2>PDF Library</h2>
<p>Click the button to view a PDF document generated by Blazor PDF library.</p>
<button class="btn btn-primary" onclick="@CreatePDF">Create PDF</button>
@code{
    protected async void CreatePDF()
    {
        ExportService service = new ExportService(hostingEnvironment);
        MemoryStream documentStream = service.CreatePDF();
        await JS.InvokeAsync<object>(
           "saveAsFile",
           "SignedDocument.pdf",
           Convert.ToBase64String(documentStream.ToArray()));
    }
}
